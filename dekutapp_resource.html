<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5" />
  <meta name="description" content="DEKUT Uni Resource Centre ‚Äî combined eLearning, notes, class links, events, and more." />
  <title>DEKUT Uni Resource Centre</title>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <style>
    :root {
      --brand: #0B5FFF;
      --brand-light: #4D8EFF;
      --brand-dark: #0040CC;
      --muted: #6b7280;
      --muted-light: #9CA3AF;
      --bg: #0f172a;
      --card: #1e293b;
      --card-hover: #334155;
      --success: #10b981;
      --warning: #f59e0b;
      --error: #ef4444;
      --text: #e6eef8;
      --text-light: #F8FAFC;
      --border: rgba(255,255,255,0.1);
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(180deg, #0a1628 0%, #0f172a 100%);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px;
    }
    
    /* Header */
    header {
      background: rgba(30, 41, 59, 0.6);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 50;
      border-bottom: 1px solid var(--border);
      margin-bottom: 20px;
    }
    
    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .brand {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    
    .logo {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--brand), #6dd3ff);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      flex-shrink: 0;
    }
    
    .logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .brand-text h1 {
      font-size: 18px;
      font-weight: 700;
      margin: 0;
      color: var(--text-light);
    }
    
    .brand-text p {
      font-size: 11px;
      color: var(--muted);
      margin: 0;
    }
    
    .header-actions {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .menu-btn {
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 24px;
      cursor: pointer;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.2s;
    }
    
    .menu-btn:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    
    /* Quick Add Button */
    .quick-add-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--brand), var(--brand-light));
      border: none;
      color: white;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(11, 95, 255, 0.4);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .quick-add-btn:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 6px 30px rgba(11, 95, 255, 0.6);
    }
    
    /* Search */
    .search-section {
      margin-bottom: 24px;
    }
    
    .search-container {
      display: flex;
      gap: 8px;
      max-width: 100%;
    }
    
    .search-container input {
      flex: 1;
      padding: 14px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--text);
      font-size: 15px;
      transition: all 0.2s;
    }
    
    .search-container input:focus {
      outline: none;
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(11, 95, 255, 0.1);
    }
    
    .search-container button {
      background: var(--brand);
      color: white;
      border: none;
      padding: 14px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s;
      white-space: nowrap;
    }
    
    .search-container button:active {
      transform: scale(0.95);
    }
    
    /* Tabs */
    .tabs {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      margin-bottom: 20px;
      padding-bottom: 8px;
      -webkit-overflow-scrolling: touch;
    }
    
    .tabs::-webkit-scrollbar {
      height: 4px;
    }
    
    .tabs::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 2px;
    }
    
    .tab {
      padding: 10px 18px;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 20px;
      color: var(--text);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.2s;
    }
    
    .tab.active {
      background: var(--brand);
      border-color: var(--brand);
      color: white;
    }
    
    /* Section */
    .section {
      margin-bottom: 32px;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .section-header h2 {
      font-size: 20px;
      font-weight: 700;
    }
    
    /* Cards Grid */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 16px;
    }
    
    @media (max-width: 640px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }
    
    .card {
      background: var(--card);
      padding: 20px;
      border-radius: 16px;
      border: 1px solid var(--border);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .card:active {
      transform: scale(0.98);
    }
    
    .card:hover {
      background: var(--card-hover);
      border-color: var(--brand);
      box-shadow: 0 8px 24px rgba(11, 95, 255, 0.15);
    }
    
    .card h3 {
      font-size: 17px;
      margin-bottom: 8px;
      color: var(--text-light);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .card p {
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 12px;
    }
    
    .badge {
      background: rgba(11, 95, 255, 0.15);
      color: var(--brand-light);
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }
    
    /* Resource List */
    .resource-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .resource-item {
      background: var(--card);
      padding: 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      display: flex;
      gap: 12px;
      align-items: start;
      transition: all 0.2s;
    }
    
    .resource-item:active {
      transform: scale(0.98);
    }
    
    .resource-icon {
      width: 48px;
      height: 48px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--brand), var(--brand-light));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      flex-shrink: 0;
    }
    
    .resource-content {
      flex: 1;
      min-width: 0;
    }
    
    .resource-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-light);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    
    .resource-meta {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    
    .resource-actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    
    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      background: var(--brand);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 10px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s;
      white-space: nowrap;
    }
    
    .btn:active {
      transform: scale(0.95);
    }
    
    .btn-small {
      padding: 6px 12px;
      font-size: 13px;
    }
    
    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text);
    }
    
    .btn-outline {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
    }
    
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(4px);
      z-index: 1000;
      padding: 16px;
      overflow-y: auto;
    }
    
    .modal.show {
      display: flex;
      align-items: start;
      justify-content: center;
      padding-top: 40px;
    }
    
    .modal-content {
      background: var(--bg);
      border-radius: 20px;
      padding: 24px;
      max-width: 500px;
      width: 100%;
      border: 1px solid var(--border);
      animation: slideUp 0.3s ease;
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .modal-header h2 {
      font-size: 22px;
      font-weight: 700;
    }
    
    .close-btn {
      background: transparent;
      border: none;
      color: var(--muted);
      font-size: 28px;
      cursor: pointer;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      transition: all 0.2s;
    }
    
    .close-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text);
    }
    
    /* Form */
    .form-group {
      margin-bottom: 18px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      font-size: 14px;
      color: var(--text-light);
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px 14px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--text);
      font-size: 15px;
      transition: all 0.2s;
    }
    
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(11, 95, 255, 0.1);
    }
    
    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }
    
    .upload-area {
      border: 2px dashed var(--border);
      border-radius: 12px;
      padding: 32px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 16px;
    }
    
    .upload-area:hover {
      border-color: var(--brand);
      background: rgba(11, 95, 255, 0.05);
    }
    
    .upload-area.active {
      border-color: var(--brand);
      background: rgba(11, 95, 255, 0.1);
    }
    
    .upload-icon {
      font-size: 48px;
      margin-bottom: 12px;
    }
    
    .file-input {
      display: none;
    }
    
    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 48px 24px;
      color: var(--muted);
    }
    
    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 16px;
      opacity: 0.5;
    }
    
    .empty-state h3 {
      font-size: 18px;
      margin-bottom: 8px;
      color: var(--text);
    }
    
    .empty-state p {
      margin-bottom: 20px;
    }
    
    /* Notification */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 16px 20px;
      border-radius: 12px;
      background: var(--success);
      color: white;
      z-index: 2000;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      transform: translateX(150%);
      transition: transform 0.3s ease;
      max-width: calc(100% - 40px);
      font-weight: 500;
    }
    
    .notification.show {
      transform: translateX(0);
    }
    
    .notification.error {
      background: var(--error);
    }
    
    .notification.warning {
      background: var(--warning);
    }
    
    /* Loading Spinner */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 0.8s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Footer */
    footer {
      border-top: 1px solid var(--border);
      margin-top: 48px;
      padding: 24px 0;
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }
    
    /* Mobile Optimizations */
    @media (max-width: 640px) {
      .container {
        padding: 12px;
      }
      
      .brand-text h1 {
        font-size: 16px;
      }
      
      .brand-text p {
        display: none;
      }
      
      .search-container button {
        padding: 14px 16px;
      }
      
      .modal {
        padding: 8px;
      }
      
      .modal-content {
        padding: 20px;
      }
      
      .notification {
        top: 10px;
        right: 10px;
        left: 10px;
        max-width: none;
      }
      
      .quick-add-btn {
        bottom: 16px;
        right: 16px;
      }
    }
    
    /* Smooth Scrolling */
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="brand">
        <div class="logo">
          <img src="https://play-lh.googleusercontent.com/FFvqQ7X7CMyVaaKjFi2aYbowTjsLZUIUprQxX1li8fBe6m9XpHPiTDq_3mhzRZJxbg=w240-h480" alt="DKUT" />
        </div>
        <div class="brand-text">
          <h1>DKUT Resource Centre</h1>
          <p>Unified academic hub</p>
        </div>
      </div>
      
      <div class="header-actions">
        <button class="menu-btn" id="menuBtn">‚ò∞</button>
      </div>
    </div>
  </header>

  <div class="container">
    <!-- Search -->
    <div class="search-section">
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search courses, materials, resources..." />
        <button id="searchBtn">üîç</button>
      </div>
    </div>

    <!-- Tabs -->
    <div class="tabs" id="tabsContainer">
      <button class="tab active" data-tab="schools">Schools</button>
      <button class="tab" data-tab="programs">Programs</button>
      <button class="tab" data-tab="resources">Resources</button>
      <button class="tab" data-tab="elearning">E-Learning</button>
      <button class="tab" data-tab="events">Events</button>
    </div>

    <!-- Schools Section -->
    <div class="section" id="schoolsSection">
      <div class="section-header">
        <h2>Schools & Institutes</h2>
      </div>
      <div class="grid" id="schoolsGrid"></div>
    </div>

    <!-- Programs Section -->
    <div class="section" id="programsSection" style="display: none;">
      <div class="section-header">
        <h2>All Programs</h2>
      </div>
      <div class="grid" id="programsGrid"></div>
    </div>

    <!-- Resources Section -->
    <div class="section" id="resourcesSection" style="display: none;">
      <div class="section-header">
        <h2>Resource Library</h2>
      </div>
      <div class="resource-list" id="resourcesList"></div>
    </div>

    <!-- E-Learning Section -->
    <div class="section" id="elearningSection" style="display: none;">
      <div class="section-header">
        <h2>E-Learning Platforms</h2>
      </div>
      <div class="grid">
        <div class="card">
          <h3>DEKUT E-Learning</h3>
          <p>Access course materials, assignments, and instructor resources</p>
          <div style="margin-top: 12px;">
            <a href="https://elearning.dkut.ac.ke" target="_blank" class="btn btn-small">Open Portal</a>
          </div>
        </div>
        <div class="card">
          <h3>Digital Library</h3>
          <p>E-books, journals, research papers and academic databases</p>
          <div style="margin-top: 12px;">
            <a href="https://www.dkut.ac.ke/library/index.php/e-resources/#gsc.tab=0" target="_blank" class="btn btn-small">Browse</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Events Section -->
    <div class="section" id="eventsSection" style="display: none;">
      <div class="section-header">
        <h2>Upcoming Events</h2>
      </div>
      <div class="grid" id="eventsGrid"></div>
    </div>

    <footer>
      <p>¬© 2025 DEKUT Resource Centre ‚Ä¢ Made with ‚ù§Ô∏è for students</p>
    </footer>
  </div>

  <!-- Quick Add Button -->
  <button class="quick-add-btn" id="quickAddBtn" title="Add Resource">+</button>

  <!-- Add Resource Modal -->
  <div class="modal" id="addModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Add Resource</h2>
        <button class="close-btn" id="closeModalBtn">√ó</button>
      </div>
      
      <form id="addResourceForm">
        <div class="form-group">
          <label>Resource Title *</label>
          <input type="text" id="resourceTitle" placeholder="e.g., Data Structures Notes" required />
        </div>
        
        <div class="form-group">
          <label>Type *</label>
          <select id="resourceType" required>
            <option value="">Select type</option>
            <option value="notes">üìù Notes</option>
            <option value="slides">üìä Slides</option>
            <option value="past-papers">üìÑ Past Papers</option>
            <option value="books">üìö Books</option>
            <option value="other">üìé Other</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>School *</label>
          <select id="resourceSchool" required>
            <option value="">Select school</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Program *</label>
          <select id="resourceProgram" required>
            <option value="">Select program first</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Course/Unit *</label>
          <input type="text" id="resourceCourse" placeholder="e.g., Computer Science 101" required />
        </div>
        
        <div class="form-group">
          <label>Unit Code</label>
          <input type="text" id="resourceCode" placeholder="e.g., CS101" />
        </div>
        
        <div class="form-group">
          <label>Description</label>
          <textarea id="resourceDescription" placeholder="Brief description of the resource..."></textarea>
        </div>
        
        <div class="upload-area" id="uploadArea">
          <div class="upload-icon">üìÅ</div>
          <p>Tap to select file or drag & drop</p>
          <input type="file" id="fileInput" class="file-input" />
        </div>
        
        <button type="submit" class="btn" style="width: 100%;" id="submitBtn">
          Add Resource
        </button>
      </form>
    </div>
  </div>

  <!-- School Details Modal -->
  <div class="modal" id="schoolModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="schoolModalTitle">School Programs</h2>
        <button class="close-btn" id="closeSchoolModalBtn">√ó</button>
      </div>
      <div id="schoolModalContent"></div>
    </div>
  </div>

  <!-- Notification -->
  <div id="notification" class="notification"></div>

  <script>
    // Data Store
    const DATA = {
      schools: [
        {
          id: 'eng',
          name: 'School of Engineering',
          icon: '‚öôÔ∏è',
          programs: [
            'PhD in Mechanical Engineering',
            'PhD in Civil and Environmental Engineering',
            'PhD in Electrical and Electronic Engineering',
            'MSc in Telecommunication Engineering',
            'MSc in Civil Engineering',
            'MSc in Electrical and Electronic Engineering',
            'MSc in Mechanical Engineering',
            'MSc in Biomedical Engineering',
            'Bachelor of Science in Electrical and Electronic Engineering',
            'Bachelor of Science in Civil Engineering',
            'Bachelor of Science in Mechatronic Engineering',
            'Bachelor of Science in Mechanical Engineering',
            'Bachelor of Science in Chemical Engineering',
            'Bachelor of Education in Technology (Electrical)',
            'Bachelor of Technology in Building Construction'
          ]
        },
        {
          id: 'bme',
          name: 'School of Business Management and Economics',
          icon: 'üíº',
          programs: [
            'PhD in Business Administration & Management',
            'Master of Business Administration',
            'Master in Innovation and Entrepreneurship',
            'Master of Science in Business Analytics',
            'Master in Supply Chain Management',
            'Master in Economics',
            'Master in Project Management',
            'Bachelor of Purchasing and Supplies Management',
            'Bachelor of Commerce',
            'Bachelor of Business Administration',
            'Diploma in Business Administration'
          ]
        },
        {
          id: 'csit',
          name: 'School of Computer Science and IT',
          icon: 'üíª',
          programs: [
            'PhD in Computer Science',
            'MSc in Computer Science',
            'Bachelor of Science in Computer Science',
            'Bachelor of Business Information Technology',
            'Bachelor of Science in Information Technology',
            'Certificate in Fundamentals of ICT'
          ]
        },
        {
          id: 'nursing',
          name: 'School of Nursing',
          icon: '‚öïÔ∏è',
          programs: [
            'Bachelor of Science in Nursing (Direct Entry)',
            'Bachelor of Science in Nursing (Upgrading)'
          ]
        },
        {
          id: 'science',
          name: 'School of Science',
          icon: 'üî¨',
          programs: [
            'PhD in Chemistry',
            'MSc in Applied Statistics',
            'MSc in Leather Technology',
            'MSc in Chemistry',
            'MSc in Industrial Biochemistry',
            'Bachelor of Science in Industrial Chemistry',
            'Bachelor of Science in Leather Technology',
            'Bachelor of Science in Actuarial Science',
            'Bachelor of Science in Mathematics and Modeling',
            'Bachelor of Science in Polymer Chemistry',
            'Diploma in Leather Technology'
          ]
        }
      ],
      resources: [],
      events: [
        {
          id: 'e1',
          title: 'Career Fair 2025',
          date: '2025-11-05',
          description: 'Meet top employers and explore career opportunities',
          icon: 'üíº'
        },
        {
          id: 'e2',
          title: 'Tech Hackathon',
          date: '2025-10-25',
          description: '48-hour coding competition with amazing prizes',
          icon: 'üíª'
        },
        {
          id: 'e3',
          title: 'Research Symposium',
          date: '2025-09-15',
          description: 'Present your innovative research projects',
          icon: 'üî¨'
        }
      ]
    };

    // Get resource type icon
    function getResourceIcon(type) {
      const icons = {
        'notes': 'üìù',
        'slides': 'üìä',
        'past-papers': 'üìÑ',
        'books': 'üìö',
        'other': 'üìé'
      };
      return icons[type] || 'üìé';
    }

    // Format date
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
    }

    // Show notification
    function showNotification(message, type = 'success') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = `notification ${type}`;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }

    // Render schools
    function renderSchools() {
      const grid = document.getElementById('schoolsGrid');
      grid.innerHTML = '';
      
      DATA.schools.forEach(school => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <h3>
            <span>${school.icon} ${school.name}</span>
            <span class="badge">${school.programs.length}</span>
          </h3>
          <p>${school.programs.length} programs available</p>
        `;
        
        card.addEventListener('click', () => showSchoolDetails(school));
        grid.appendChild(card);
      });
    }

    // Show school details
    function showSchoolDetails(school) {
      const modal = document.getElementById('schoolModal');
      const title = document.getElementById('schoolModalTitle');
      const content = document.getElementById('schoolModalContent');
      
      title.textContent = school.name;
      content.innerHTML = `
        <div style="margin-bottom: 16px;">
          <p style="color: var(--muted);">${school.programs.length} programs in this school</p>
        </div>
        <div class="resource-list">
          ${school.programs.map(program => `
            <div class="resource-item" style="cursor: pointer;">
              <div class="resource-icon">üéì</div>
              <div class="resource-content">
                <div class="resource-title">${program}</div>
              </div>
            </div>
          `).join('')}
        </div>
      `;
      
      modal.classList.add('show');
    }

    // Render all programs
    function renderPrograms() {
      const grid = document.getElementById('programsGrid');
      grid.innerHTML = '';
      
      DATA.schools.forEach(school => {
        school.programs.forEach(program => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <h3>üéì ${program}</h3>
            <p>${school.name}</p>
          `;
          grid.appendChild(card);
        });
      });
    }

    // Render resources
    function renderResources() {
      const list = document.getElementById('resourcesList');
      list.innerHTML = '';
      
      if (DATA.resources.length === 0) {
        list.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üìö</div>
            <h3>No resources yet</h3>
            <p>Be the first to add a resource!</p>
            <button class="btn" onclick="openAddModal()">Add Resource</button>
          </div>
        `;
        return;
      }
      
      DATA.resources.forEach(resource => {
        const item = document.createElement('div');
        item.className = 'resource-item';
        item.innerHTML = `
          <div class="resource-icon">${getResourceIcon(resource.type)}</div>
          <div class="resource-content">
            <div class="resource-title">${resource.title}</div>
            <div class="resource-meta">${resource.course} ‚Ä¢ ${resource.school}</div>
            <div class="resource-actions">
              <button class="btn btn-small" onclick="viewResource('${resource.id}')">View</button>
              <button class="btn-secondary btn-small" onclick="downloadResource('${resource.id}')">Download</button>
            </div>
          </div>
        `;
        list.appendChild(item);
      });
    }

    // Render events
    function renderEvents() {
      const grid = document.getElementById('eventsGrid');
      grid.innerHTML = '';
      
      DATA.events.forEach(event => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <h3>${event.icon} ${event.title}</h3>
          <p style="color: var(--brand); font-weight: 600; margin-bottom: 8px;">${formatDate(event.date)}</p>
          <p>${event.description}</p>
        `;
        grid.appendChild(card);
      });
    }

    // Tab switching
    function switchTab(tabName) {
      // Update active tab
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
      
      // Show corresponding section
      document.querySelectorAll('.section').forEach(section => {
        section.style.display = 'none';
      });
      
      const sectionMap = {
        'schools': 'schoolsSection',
        'programs': 'programsSection',
        'resources': 'resourcesSection',
        'elearning': 'elearningSection',
        'events': 'eventsSection'
      };
      
      document.getElementById(sectionMap[tabName]).style.display = 'block';
    }

    // Open add modal
    function openAddModal() {
      document.getElementById('addModal').classList.add('show');
      populateSchoolDropdown();
    }

    // Close modals
    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('show');
    }

    // Populate school dropdown
    function populateSchoolDropdown() {
      const select = document.getElementById('resourceSchool');
      select.innerHTML = '<option value="">Select school</option>';
      
      DATA.schools.forEach(school => {
        const option = document.createElement('option');
        option.value = school.id;
        option.textContent = school.name;
        select.appendChild(option);
      });
    }

    // Update program dropdown based on school
    function updateProgramDropdown(schoolId) {
      const select = document.getElementById('resourceProgram');
      select.innerHTML = '<option value="">Select program</option>';
      
      if (!schoolId) return;
      
      const school = DATA.schools.find(s => s.id === schoolId);
      if (school) {
        school.programs.forEach(program => {
          const option = document.createElement('option');
          option.value = program;
          option.textContent = program;
          select.appendChild(option);
        });
      }
    }

    // Add resource
    function addResource(resourceData, file) {
      const resource = {
        id: Date.now().toString(),
        ...resourceData,
        fileName: file.name,
        fileSize: formatFileSize(file.size),
        createdAt: new Date().toISOString(),
        downloads: 0
      };
      
      DATA.resources.unshift(resource);
      renderResources();
      showNotification('Resource added successfully!', 'success');
      closeModal('addModal');
      
      // Switch to resources tab
      switchTab('resources');
    }

    // Format file size
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
    }

    // Search functionality
    function performSearch() {
      const query = document.getElementById('searchInput').value.toLowerCase().trim();
      
      if (!query) {
        renderSchools();
        renderPrograms();
        renderResources();
        return;
      }
      
      // Search across all data
      const schoolMatches = DATA.schools.filter(school => 
        school.name.toLowerCase().includes(query) ||
        school.programs.some(p => p.toLowerCase().includes(query))
      );
      
      const resourceMatches = DATA.resources.filter(resource =>
        resource.title.toLowerCase().includes(query) ||
        resource.course.toLowerCase().includes(query) ||
        resource.description?.toLowerCase().includes(query)
      );
      
      // Update UI with results
      showSearchResults(schoolMatches, resourceMatches, query);
    }

    // Show search results
    function showSearchResults(schools, resources, query) {
      switchTab('resources');
      const list = document.getElementById('resourcesList');
      list.innerHTML = `<h3 style="margin-bottom: 16px;">Search results for "${query}"</h3>`;
      
      if (schools.length === 0 && resources.length === 0) {
        list.innerHTML += `
          <div class="empty-state">
            <div class="empty-state-icon">üîç</div>
            <h3>No results found</h3>
            <p>Try different keywords</p>
          </div>
        `;
        return;
      }
      
      // Show school results
      if (schools.length > 0) {
        list.innerHTML += `<h4 style="margin: 20px 0 12px; color: var(--muted);">Schools (${schools.length})</h4>`;
        schools.forEach(school => {
          const item = document.createElement('div');
          item.className = 'resource-item';
          item.style.cursor = 'pointer';
          item.innerHTML = `
            <div class="resource-icon">${school.icon}</div>
            <div class="resource-content">
              <div class="resource-title">${school.name}</div>
              <div class="resource-meta">${school.programs.length} programs</div>
            </div>
          `;
          item.addEventListener('click', () => showSchoolDetails(school));
          list.appendChild(item);
        });
      }
      
      // Show resource results
      if (resources.length > 0) {
        list.innerHTML += `<h4 style="margin: 20px 0 12px; color: var(--muted);">Resources (${resources.length})</h4>`;
        resources.forEach(resource => {
          const item = document.createElement('div');
          item.className = 'resource-item';
          item.innerHTML = `
            <div class="resource-icon">${getResourceIcon(resource.type)}</div>
            <div class="resource-content">
              <div class="resource-title">${resource.title}</div>
              <div class="resource-meta">${resource.course} ‚Ä¢ ${resource.school}</div>
              <div class="resource-actions">
                <button class="btn btn-small">View</button>
                <button class="btn-secondary btn-small">Download</button>
              </div>
            </div>
          `;
          list.appendChild(item);
        });
      }
    }

    // View resource
    function viewResource(id) {
      showNotification('Opening resource...', 'success');
    }

    // Download resource
    function downloadResource(id) {
      showNotification('Download started', 'success');
    }

    // Initialize app
    function init() {
      renderSchools();
      renderPrograms();
      renderResources();
      renderEvents();
      
      // Tab click handlers
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
          switchTab(tab.dataset.tab);
        });
      });
      
      // Quick add button
      document.getElementById('quickAddBtn').addEventListener('click', openAddModal);
      
      // Modal close buttons
      document.getElementById('closeModalBtn').addEventListener('click', () => closeModal('addModal'));
      document.getElementById('closeSchoolModalBtn').addEventListener('click', () => closeModal('schoolModal'));
      
      // Close modal on backdrop click
      document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            modal.classList.remove('show');
          }
        });
      });
      
      // Search
      document.getElementById('searchBtn').addEventListener('click', performSearch);
      document.getElementById('searchInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') performSearch();
      });
      
      // School dropdown change
      document.getElementById('resourceSchool').addEventListener('change', (e) => {
        updateProgramDropdown(e.target.value);
      });
      
      // Upload area
      const uploadArea = document.getElementById('uploadArea');
      const fileInput = document.getElementById('fileInput');
      
      uploadArea.addEventListener('click', () => fileInput.click());
      
      fileInput.addEventListener('change', () => {
        if (fileInput.files.length > 0) {
          const file = fileInput.files[0];
          uploadArea.innerHTML = `
            <div class="upload-icon">‚úÖ</div>
            <p><strong>${file.name}</strong></p>
            <p style="color: var(--muted); font-size: 13px;">${formatFileSize(file.size)}</p>
          `;
        }
      });
      
      // Drag and drop
      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('active');
      });
      
      uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('active');
      });
      
      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('active');
        
        if (e.dataTransfer.files.length > 0) {
          fileInput.files = e.dataTransfer.files;
          const file = e.dataTransfer.files[0];
          uploadArea.innerHTML = `
            <div class="upload-icon">‚úÖ</div>
            <p><strong>${file.name}</strong></p>
            <p style="color: var(--muted); font-size: 13px;">${formatFileSize(file.size)}</p>
          `;
        }
      });
      
      // Form submission
      document.getElementById('addResourceForm').addEventListener('submit', (e) => {
        e.preventDefault();
        
        const fileInput = document.getElementById('fileInput');
        if (!fileInput.files || fileInput.files.length === 0) {
          showNotification('Please select a file', 'error');
          return;
        }
        
        const file = fileInput.files[0];
        const schoolId = document.getElementById('resourceSchool').value;
        const school = DATA.schools.find(s => s.id === schoolId);
        
        const resourceData = {
          title: document.getElementById('resourceTitle').value,
          type: document.getElementById('resourceType').value,
          school: school.name,
          program: document.getElementById('resourceProgram').value,
          course: document.getElementById('resourceCourse').value,
          code: document.getElementById('resourceCode').value,
          description: document.getElementById('resourceDescription').value
        };
        
        addResource(resourceData, file);
        
        // Reset form
        e.target.reset();
        uploadArea.innerHTML = `
          <div class="upload-icon">üìÅ</div>
          <p>Tap to select file or drag & drop</p>
        `;
      });
      
      showNotification('Welcome to DKUT Resource Centre!', 'success');
    }

    // Start the app
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>